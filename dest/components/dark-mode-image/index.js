var o=`.dark-mode-image{--display-img-light: block;--display-img-dark: none;display:inline;margin:0;box-sizing:border-box;>img{margin:var(--goose-dmi-margin, unset);width:var(--goose-dmi-width, unset);height:var(--goose-dmi-height, unset);position:var(--goose-dmi-position, unset);left:var(--goose-dmi-left, unset);transform:var(--goose-dmi-transform, unset);max-width:var(--goose-dmi-max-width, 100%);max-height:var(--goose-dmi-max-height, unset);object-fit:var(--goose-dmi-object-fit, unset);transform-origin:var(--goose-dmi-transform-origin, unset);zoom:var(--goose-dmi-zoom, unset);background:var(--goose-dmi-background, unset);box-sizing:border-box;&[data-type=light]{display:var(--display-img-light)}&[data-type=dark]{display:var(--display-img-dark)}}&[data-theme=dark]{--display-img-light: none;--display-img-dark: block}@media (prefers-color-scheme: dark){&:not([data-theme=light]){--display-img-light: none;--display-img-dark: block}}}
`;var s=class extends HTMLElement{#t;constructor(){super(),this.attachShadow({mode:"open"});let t=document.createElement("template");t.innerHTML='<figure class="dark-mode-image"></figure>';let i=new CSSStyleSheet;i.replaceSync(o),this.shadowRoot.appendChild(t.content.cloneNode(!0)),this.shadowRoot.adoptedStyleSheets=[i],this.root=this.shadowRoot.childNodes[0]}static get observedAttributes(){return["src-light","src-dark","alt"]}get props(){return{srcLight:this.getAttribute("src-light"),srcDark:this.getAttribute("src-dark"),alt:this.getAttribute("alt")}}attributeChangedCallback(t,i,e){if(i!==e)switch(t){case"src-light":case"src-dark":this.#i(t,e);break;case"alt":this.#a(e);break}}connectedCallback(){let t=document.querySelector("html");this.#t=new MutationObserver(i=>{i.forEach(e=>{let a=e.attributeName;e.type!=="attributes"||a!=="data-theme"||this.#e(e.target.getAttribute(a))})}),this.#t.observe(t,{attributes:!0}),this.#e(t.dataset.theme)}disconnectedCallback(){this.#t.disconnect()}#i(t,i){t=t.replace(/^src-/,"");let e=this.root.querySelector(`img[data-type='${t}']`);if(e)e.src=i;else{let a=new Image;a.src=i,a.dataset.type=t,a.setAttribute("alt",this.props.alt||""),this.root.appendChild(a)}}#a(t){let i=this.root.querySelectorAll("img");for(let e of i)e.alt=t}#e(t){this.root.dataset.theme=t||""}},m=s;export{m as default};
