var r=`.dark-mode-image{--display-img-light: block;--display-img-dark: none;margin:0;box-sizing:border-box;>img{max-width:100%;box-sizing:border-box;&[data-type=light]{display:var(--display-img-light)}&[data-type=dark]{display:var(--display-img-dark)}}&[data-theme=dark]{--display-img-light: none;--display-img-dark: block}@media (prefers-color-scheme: dark){&:not([data-theme=light]){--display-img-light: none;--display-img-dark: block}}}
`;var i=class extends HTMLElement{#t;constructor(){super(),this.attachShadow({mode:"open"});let t=document.createElement("template");t.innerHTML='<figure class="dark-mode-image"></figure>';let a=new CSSStyleSheet;a.replaceSync(r),this.shadowRoot.appendChild(t.content.cloneNode(!0)),this.shadowRoot.adoptedStyleSheets=[a],this.root=this.shadowRoot.childNodes[0]}static get observedAttributes(){return["src-light","src-dark","alt"]}get props(){return{srcLight:this.getAttribute("src-light"),srcDark:this.getAttribute("src-dark"),alt:this.getAttribute("alt")}}attributeChangedCallback(t,a,e){if(a!==e)switch(t){case"src-light":case"src-dark":this.#a(t,e);break;case"alt":this.#s(e);break}}connectedCallback(){let t=document.querySelector("html");this.#t=new MutationObserver(a=>{a.forEach(e=>{let s=e.attributeName;e.type!=="attributes"||s!=="data-theme"||this.#e(e.target.getAttribute(s))})}),this.#t.observe(t,{attributes:!0}),this.#e(t.dataset.theme)}disconnectedCallback(){this.#t.disconnect()}#a(t,a){t=t.replace(/^src-/,"");let e=this.root.querySelector(`img[data-type='${t}']`);if(e)e.src=a;else{let s=new Image;s.src=a,s.dataset.type=t,s.setAttribute("alt",this.props.alt||""),this.root.appendChild(s)}}#s(t){let a=this.root.querySelectorAll("img");for(let e of a)e.alt=t}#e(t){this.root.dataset.theme=t}},o=i;customElements.define("goose-dark-mode-image",o);
